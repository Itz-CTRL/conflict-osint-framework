{"ast":null,"code":"var _jsxFileName = \"/home/ctrl/cmpt130/soko-osint/src/App.jsx\",\n  _s = $RefreshSig$();\n// src/App.jsx\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport './index.css';\nimport { THEMES } from './themes';\nimport { api } from './utils/api';\nimport Header from './components/Header';\nimport Ticker from './components/Ticker';\nimport Dashboard from './components/Dashboard';\nimport CasePage from './components/CasePage';\nimport ThemeButton from './components/ThemeButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [theme, setTheme] = useState(() => localStorage.getItem('soko-theme') || 'dark');\n  const [online, setOnline] = useState(false);\n\n  // Persist theme\n  useEffect(() => {\n    localStorage.setItem('soko-theme', theme);\n  }, [theme]);\n\n  // Check backend health on mount and every 30s\n  useEffect(() => {\n    const check = async () => {\n      try {\n        await api.health();\n        setOnline(true);\n      } catch {\n        setOnline(false);\n      }\n    };\n    check();\n    const id = setInterval(check, 30000);\n    return () => clearInterval(id);\n  }, []);\n  const t = THEMES[theme];\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: t.bgGrad,\n        color: t.text,\n        fontFamily: \"'Sora', sans-serif\",\n        transition: 'background 0.4s, color 0.3s'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        theme: theme,\n        online: online\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Ticker, {\n        theme: theme\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), !online && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: `${t.riskHigh}22`,\n          border: `1px solid ${t.riskHigh}44`,\n          borderRadius: 0,\n          padding: '8px 24px',\n          fontFamily: \"'Sora',sans-serif\",\n          fontSize: 13,\n          color: t.riskHigh,\n          textAlign: 'center'\n        },\n        children: [\"\\u26A0 Backend offline \\u2014 start the Flask server: \", /*#__PURE__*/_jsxDEV(\"code\", {\n          style: {\n            fontFamily: \"'JetBrains Mono',monospace\"\n          },\n          children: \"python app.py\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 57\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Dashboard, {\n            theme: theme\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/case/:id\",\n          element: /*#__PURE__*/_jsxDEV(CasePage, {\n            theme: theme\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThemeButton, {\n        currentTheme: theme,\n        onTheme: setTheme\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"41zp+3RsdygRy91Y2CxUfvzrh6M=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","BrowserRouter","Routes","Route","Navigate","THEMES","api","Header","Ticker","Dashboard","CasePage","ThemeButton","jsxDEV","_jsxDEV","App","_s","theme","setTheme","localStorage","getItem","online","setOnline","setItem","check","health","id","setInterval","clearInterval","t","children","style","minHeight","background","bgGrad","color","text","fontFamily","transition","fileName","_jsxFileName","lineNumber","columnNumber","riskHigh","border","borderRadius","padding","fontSize","textAlign","path","element","to","replace","currentTheme","onTheme","_c","$RefreshReg$"],"sources":["/home/ctrl/cmpt130/soko-osint/src/App.jsx"],"sourcesContent":["// src/App.jsx\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport './index.css';\n\nimport { THEMES } from './themes';\nimport { api } from './utils/api';\n\nimport Header from './components/Header';\nimport Ticker from './components/Ticker';\nimport Dashboard from './components/Dashboard';\nimport CasePage from './components/CasePage';\nimport ThemeButton from './components/ThemeButton';\n\nexport default function App() {\n  const [theme, setTheme] = useState(() => localStorage.getItem('soko-theme') || 'dark');\n  const [online, setOnline] = useState(false);\n\n  // Persist theme\n  useEffect(() => {\n    localStorage.setItem('soko-theme', theme);\n  }, [theme]);\n\n  // Check backend health on mount and every 30s\n  useEffect(() => {\n    const check = async () => {\n      try {\n        await api.health();\n        setOnline(true);\n      } catch {\n        setOnline(false);\n      }\n    };\n    check();\n    const id = setInterval(check, 30000);\n    return () => clearInterval(id);\n  }, []);\n\n  const t = THEMES[theme];\n\n  return (\n    <BrowserRouter>\n      <div style={{\n        minHeight: '100vh',\n        background: t.bgGrad,\n        color: t.text,\n        fontFamily: \"'Sora', sans-serif\",\n        transition: 'background 0.4s, color 0.3s',\n      }}>\n        <Header theme={theme} online={online} />\n        <Ticker theme={theme} />\n\n        {/* Offline banner */}\n        {!online && (\n          <div style={{\n            background: `${t.riskHigh}22`,\n            border: `1px solid ${t.riskHigh}44`,\n            borderRadius: 0,\n            padding: '8px 24px',\n            fontFamily: \"'Sora',sans-serif\", fontSize: 13, color: t.riskHigh,\n            textAlign: 'center',\n          }}>\n            ⚠ Backend offline — start the Flask server: <code style={{ fontFamily: \"'JetBrains Mono',monospace\" }}>python app.py</code>\n          </div>\n        )}\n\n        <Routes>\n          <Route path=\"/\"          element={<Dashboard theme={theme} />} />\n          <Route path=\"/case/:id\"  element={<CasePage  theme={theme} />} />\n          <Route path=\"*\"          element={<Navigate to=\"/\" replace />} />\n        </Routes>\n\n        {/* Floating draggable theme switcher */}\n        <ThemeButton currentTheme={theme} onTheme={setTheme} />\n      </div>\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}